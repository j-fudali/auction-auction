<mat-drawer-container autosize *ngIf="{isLtMd: (isLtMd$| async)} as bp">
    <mat-drawer #drawer [mode]="bp.isLtMd ? 'over' : 'side'" [opened]="bp.isLtMd ? false : true">
        <button *ngIf="bp.isLtMd" (click)="drawer.close()" mat-icon-button><mat-icon>close</mat-icon></button>
        <app-chats-list (onSelectChat)="onDiscussionSelect($event)" [discussions]="discussions"></app-chats-list>
    </mat-drawer>
    <mat-drawer-content class="content">
        <button *ngIf="bp.isLtMd" (click)="drawer.toggle()" class="filters-button" mat-icon-button><mat-icon>filter_list</mat-icon></button>
        <app-chat (onScrollUpEvent)="onScrollUp()" *ngIf="chat && creator && user && userId; else noChatSelected" [chat]="chat" [creator]="creator" [user]="user" [userId]="userId"></app-chat>
        <ng-template #noChatSelected>
            <h2>No chat selected. Choose one of them!</h2>
        </ng-template>
        <div class="spinner-wrapper" *ngIf="isLoading">
            <mat-spinner color="accent"></mat-spinner>
        </div>
    </mat-drawer-content>
</mat-drawer-container>